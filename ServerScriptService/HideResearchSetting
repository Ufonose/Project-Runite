-- ServerScriptService/HideResearchSetting
-- Adds the HideResearch setting to player's Settings folder

local Players = game:GetService("Players")

-- Function to add HideResearch setting to player
local function addHideResearchSetting(player)
	-- Wait for Settings folder to exist
	local settings = player:WaitForChild("Settings", 5)

	if settings then
		-- Check if HideResearch already exists
		if not settings:FindFirstChild("HideResearch") then
			-- Create the HideResearch BoolValue
			local hideResearch = Instance.new("BoolValue")
			hideResearch.Name = "HideResearch"
			hideResearch.Value = false  -- Default is to show the research display
			hideResearch.Parent = settings

			print("Created HideResearch setting for", player.Name)
		end
	else
		warn("Settings folder not found for", player.Name)
	end
end

-- Add setting to existing players
for _, player in pairs(Players:GetPlayers()) do
	addHideResearchSetting(player)
end

-- Add setting to new players
Players.PlayerAdded:Connect(addHideResearchSetting)

print("HideResearchSetting handler loaded!")
